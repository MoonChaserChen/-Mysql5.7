# 表结构优化
## 数据类型选择
### 数值型&字符型
尽量使用数字型字段，若只含数值信息的字段尽量不要设计为字符型，这会降低查询和连接的性能，并会增加存储开销。
这是因为引擎在处理查询和连接时会逐个比较字符串中每一个字符，而对于数字型而言只需要比较一次就够了。

### IP与unsigned int
使用unsigned int来存储IP，占用空间更小，查询更快

### 使用更小的数据类型
如果一个表只会有几列罢了（比如说字典表，配置表），那么，我们就没有理由使用INT来做主键，使用MEDIUMINT, SMALLINT或是更小的TINYINT会更经济一些。
如果你不需要记录时间，使用 DATE 要比 DATETIME 好得多。

### 尽量使用固定长度类型
如果表中的所有字段都是“固定长度”的，整个表会被认为是 “static” 或 “fixed-length”。 
固定长度的表会提高性能，因为MySQL搜寻得会更快一些，因为这些固定的长度是很容易计算下一个数据的偏移量的，所以读取的自然也会很快。
而如果字段不是定长的，那么，每一次要找下一条的话，需要程序找到主键。

### ENUM与VARCHAR
类型是非常快和紧凑的。在实际上，其保存的是 TINYINT，但其外表上显示为字符串。这样一来，用这个字段来做一些选项列表变得相当的完美。
如果你有一个字段，比如“性别”，“国家”，“民族”，“状态”或“部门”，你知道这些字段的取值是有限而且固定的，那么，你应该使用ENUM而不是VARCHAR。

### 垂直分割
分割你的表成为两个一个是定长的，一个则是不定长的。将经常更新字段或不经常查询字段放置于另一张表中。
- 示例一：

    在users表中有一个字段是家庭地址，这个字段是可选字段，你并不需要经常读取或是改写这个字段。那么，为什么不把他放到另外一张表中呢？
    这样会让你的表有更好的性能，大家想想是不是，大量的时候，我对于用户表来说，只有用户lD，用户名，口令，用户角色等会被经常使用。
    小一点的表总是会有好的性能。
- 示例二：

    在users表中，可能会有一个叫“last_login”的字段，它会在每次用户登录时被更新。但是，每次更新时会导致该表的查询缓存被清空。所以，
    你可以把这个字段放到另一个表中，这样就不会影响你对用户ID，用户名，用户角色的不停地读取了，因为查询缓存会帮你增加很多性能。
    
### 避免关联字段类型不匹配
避免关联表的字段在两个表中类型不匹配，从而不走索引，甚至出现与期望不同的结果。
    
## 选择存储引擎
MyISAM 适合于一些需要大量查询的应用，但其对于有大量写操作并不是很好。甚至你只是需要update一个字段，整个表都会被锁起来，而别的进程，
就算是读进程都无法操作直到读操作完成。另外，MyISAM 对于 SELECT COUNT(*) 这类的计算是超快无比的。

InnoDB 的趋势会是一个非常复杂的存储引擎，对于一些小的应用，它会比 MyISAM 还慢。他是它支持“行锁” ，于是在写操作比较多的时候，会更优秀。
并且，他还支持更多的高级应用，比如：事务。

## 利用索引

